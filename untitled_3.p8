pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
function _init()
	pal(3,138,1)
	play_init()
end

function play_init()
	snek={
		body={{8,8}},
		-- 0=left,1=right,2=up,3=down
		dir=1,
	}
	for i=1,4 do
		add(snek.body,
			{snek.body[1],snek.body[2]})
	end
	
	_update60=play_update
	_draw=play_draw()
end


function play_update()
	for i=0,3 do
		if btn(i) then
			ii=i
			snek.dir=i
		end
	end
	ii=4
end

function play_draw()
	cls(3)
	print(snek.dir,0,0)
	if (ii) print(ii,0,6)
	
	local set={}
	for i,s in ipairs(snek.body) do
		if i==1 then
			local vert=band(snek.dir,2)~=0
			local swap=band(snek.dir,1)==0
			local sp=16
			if (vert) sp+=1
			spr(sp,s[1]*8,s[2]*8,1,1,
				not vert and swap,
				vert and swap)
		end
	end
end
-->8
function hash(x,y)
	return bor(x,shl(y,4))
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666600000000006666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666600066666606666666606666660000000660006600066666660000000000000000000000000000000000000000000000000000000000000000000000000
66666660066666606666666606666660000066660006600066666660000000000000000000000000000000000000000000000000000000000000000000000000
66666666066666606666666606666660066666660006600066666660000000000000000000000000000000000000000000000000000000000000000000000000
66666666066666606666666606666660066666660066660066666660000000000000000000000000000000000000000000000000000000000000000000000000
66666660066666606666666606666660000066660066660066666660000000000000000000000000000000000000000000000000000000000000000000000000
66666600006666006666666606666660000000660666666066666660000000000000000000000000000000000000000000000000000000000000000000000000
00000000000660000000000006666660000000000666666006666660000000000000000000000000000000000000000000000000000000000000000000000000
