pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
function _init()
	actors={}
	act_0=add_actor({x=64,y=64})
	_update=play_update
	_draw=play_draw
end

function play_update()
	local ix,iy=0,0
	
	if (btn(0,0)) ix-=1
	if (btn(1,0)) ix+=1
	if (btn(2,0)) iy-=1
	if (btn(3,0)) iy+=1
	
	actor_move(act_0,ix,iy)
end

function play_draw()
	cls(12)
	map(0,0,0,0,16,16)
	
	palt(0,false)
	palt(14,true)
	
	local w,h=64,64
--	spr(8,act_0.x-16,act_0.y-32,4,4)
	
	local sx0=act_0.x-(w/2)
	local sy0=act_0.y-h
	sspr(64,0,32,32,sx0,sy0,w,h)
	
	palt()
	spr(12,80,60,2,2)
--	sspr(96,0,16,16,80,60,24,24)
end

function add_actor(p)
	local self={
		x=0,y=0,
		dx=0,dy=0,
	}
	p=p or {}
	for k,v in pairs(p) do
		self[k]=v
	end
	return add(actors,self)
end

function actor_move(self,mx,my)
	if (my~=0) mx=0
	
	self.dx=mx
	self.dy=my
	self.x+=self.dx
	self.y+=self.dy
end
-->8

__gfx__
0000000011111111222222223333333300000000000000000000000000000000eeeeeeeeeeeeeebbbbbbeeeeeeee000e00000aaaaaa000000000000000000000
0000000011111111222222223333333300000000000000000000000000000000eeeeeeeeeeeeeebbbbbe0eee0eeeee0e0000aaa9aaaa00000000000000000000
0070070011111111222222223333333300000000000000000000000000000000eebeeeeeeeeeeebbbbee0eee0eee000e00aaaa99a9aaaa000000000000000000
0007700011111111222222223333333300000000000000000000000000000000eebbeeeeeeeeebbbeeeee0e0eeee00ee0a9aaa99a9a9aaa00000000000000000
0007700011111111222222223333333300000000000000000000000000000000ebbbbeeeeeeeebbbbeee70e07eeee00e0a9a999a9aa9aaa00000000000000000
0070070011111111222222223333333300000000000000000000000000000000bbbbbbeeeeeeebbbeeee0e0e0eeee00ea9999a999a99a9aa0000000000000000
0000000011111111222222223333333300000000000000000000000000000000bbbbbbbbbeeebbeeeeeeeeeeeebe00eea999aaa99aa9a99a0000000000000000
0000000011111111222222223333333300000000000000000000000000000000eeebbbbbbbbbbbbbbbeeeeeeebbeeeeeaa9fffffffffff9a0000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeeeeebbbbbbbbbbbbbbbbbbeeeeea9ffffffffffff0a0000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeeeeebbbbbbbbbbbb777777eeeee00ffffffffffff000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeeeeebbbbbbbbbbeee7e7e7eeeee00ffffffffffff000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeee44bbbbbbbbbbb7eeeeeeeeeee00ffffffffffff000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeee444fbbbbbbbeebbbbbe7e7eeeee00fffff44fffff000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeee44ffffbbbbbbbeeeeebb777eeeee00ffff4444ffff000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeee4ffffffbbbbbbbbeeeebbbbeeeee00ffff4444ffff000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eee4f4fff44bbbbbbbbbeeeeeeeeeeee00ffff4444ffff000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eee4f444f4eebbbbbbbbbbbeeeeeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eee4fffff4eeeebbbbbbbbbbbeeeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eee44f4444eeeeeebbbbbbbbbbeeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeee44f4ff4e4eeeeeebbbbbbbeeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeee4f44f44f4eeeeeebbbbbbbeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeee4fff4ff4eeeeeebbbbbbbeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeee444444eeeeeeebbbbbbbeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeebeeeeeeeeeeeebbbbbbbbeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeebbbbbbeeebbbbbbbbbbbeeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeeebbbbbbbbbbbbbbbbbbeeeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeeeeeebbb0bbbbbb0beeeeeeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeeeeeeee00bbbbbe0eeeeeeeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeeeeeeee0eeeeeee0eeeeeeeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeeeeeee00eeeeeee00eeeeeeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeeeeeee0eeeeeeeee0eeeeeeeeee00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000eeeeeeeeeee00000eeeee0000eeeeeee00000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010102020202020201010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010202020202020203030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0102020202020203030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0102020202020203030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010102020303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
