pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
function _init()
	plr={}
	plr.x=64
	plr.y=64
	plr.firef=0
	
	beam={}
end

function _update()
	local dx,dy=0,0
	if (btn(0)) dx-=1
	if (btn(1)) dx+=1
	if (btn(2)) dy-=1
	if (btn(3)) dy+=1
	
	plr.dx=dx
	plr.dy=dy
	
	plr.x+=plr.dx
	plr.y+=plr.dy

	if plr.firef>0 then
		plr.firef-=1
	end
	
	if btn(4) then
		if plr.firef<= 0 then
			plr.firef=1
			make_lzr(plr.x,plr.y,4)
		end
	end
	
	for lzr in all(beam) do
		lzr.x+=lzr.dx
	end
end

function _draw()
	cls()
	for i=#beam,2,-1 do
		for h=-2,3 do
			local x1=beam[i].x
			local y1=beam[i].y+h
			local x2=beam[i-1].x
			local y2=beam[i-1].y+h
			line(x1,y1,x2,y2,10+h)
		end
	end
end

function make_lzr(x,y,dx)
	local lzr={}
	lzr.x=x or 0
	lzr.y=y or 0
	lzr.dx=dx or 0
	add(beam,lzr)
end
__gfx__
00000000888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000bbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000dddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000dddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
