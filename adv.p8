pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()
	game_init()
end
-->8
function game_init()
	_update60=game_update
	_draw=game_draw
	
	g={}
	
	for mx=0,15 do
		for my=0,15 do
			if mget(mx,my)==1 then
				g.웃=웃_init(mx*8,my*8)
			end
		end
	end
end

function game_update()
	if g.웃 then
		local ix,iy=0,0
		if (btn(0,0)) ix-=1
		if (btn(1,0)) ix+=1
		if (btn(2,0)) iy-=1
		if (btn(3,0)) iy+=1
		g.웃.ix,g.웃.iy=ix,iy
		웃_update(g.웃)
	end
end

function game_draw()
	cls()
	if (g.웃) 웃_draw(g.웃)
end
-->8
function 웃_init(x,y)
	return {
		x=x or 0,
		y=y or 0,
		dx=0,dy=0,
		ix=0,iy=0,
		face=0, --0=right,1=left,
										--2=up,3=down
		sp=1,
	}
end

function 웃_update(웃)
	local ix,iy=웃.ix,웃.iy
	웃.ix,웃.iy=0,0
	
	웃.dx=ix
	웃.dy=iy
	
	웃.x+=웃.dx*0.1
	웃.y+=웃.dy*0.1
end

function 웃_draw(웃)
	if 웃.sp then
		spr(웃.sp,웃.x,웃.y)
	end
end
__gfx__
00000000099999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000fcfc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000ffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000bbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700003bbbb300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000fbbbbf00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000b33b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000004004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
